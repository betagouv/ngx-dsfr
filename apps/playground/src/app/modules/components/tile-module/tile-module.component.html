<section class="module-description">
  <h2>DsfrTileComponent</h2>
  <p>
    The <code>DsfrTileComponent</code> purpose is to represent link tile element.
  </p>
  <p>
    It is based on the
    <a
      target="_blank"
      hreflang="fr"
      title="The documentation page for the Tile Component in the DSFR"
      href="https://www.systeme-de-design.gouv.fr/elements-d-interface/composants/tuile">
      Tile
      <mat-icon>open_in_new</mat-icon>
    </a>
    component in the
    <a
      target="_blank"
      hreflang="fr"
      title="The DSFR documentation"
      href="https://www.systeme-de-design.gouv.fr/">
      DSFR
      <mat-icon>open_in_new</mat-icon>
    </a>
    .
  </p>
  <p>It has several <code>&#64;Input()</code> properties:</p>
  <dl class="input-properties">
    <play-input-property-definition
      name="link"
      [required]="true"
      type="It takes a string, it can be routerLink or external like 'http://...'">
    </play-input-property-definition>
    <play-input-property-definition
      name="title"
      [required]="true"
      type="It takes a string.">
      The title of the tile, it's displayed in an H3 tag.
    </play-input-property-definition>
    <play-input-property-definition
      name="description"
      type="It takes a string.">
    </play-input-property-definition>
    <play-input-property-definition
      name="image"
      type="It takes a string which is the image's path.">
      Image to add a design element to the tile.
    </play-input-property-definition>
    <play-input-property-definition
      name="align"
      default="vertical"
      type="It takes a string with only 2 possible values : <code>horizontal</code> or <code>vertical</code>" >
    </play-input-property-definition>
    <play-input-property-definition
      name="size"
      default="md"
      type="It takes a string with 3 possible values : <code>sm</code>, <code>md</code> or <code>lg</code>">
      You can import the <code>ElementSize</code> enum, from the
      <code>&#64;betagouv/ngx-dsfr</code> library entry-point, in your app, to
      safely provide a value for this property.
    </play-input-property-definition>
    <play-input-property-definition
      name="breakpoint"
      type="It takes a string with 5 possible values : <code>xs</code>, <code>sm</code>, <code>md</code>, <code>lg</code>, <code>xl</code>">
      You can see the
      <a
      target="_blank"
      hreflang="fr"
      title="The documentation page for the breakpoint rules in the DSFR"
      href="https://www.systeme-de-design.gouv.fr/elements-d-interface/fondamentaux-techniques/grille-et-points-de-rupture/">
      current breakpoint rules documentation in the DSFR
      <mat-icon>open_in_new</mat-icon>
    </a>. By default, the Tile Component will be either vertical or horizontal (
      depending on the <code>align</code> property ), whatever the screen size.
      If you need to have it take the other alignment for screens with widths
      greater than one of these breakpoints, you can use this property.
    </play-input-property-definition>
    <play-input-property-definition
      name="download"
      default="false"
      type="boolean">
      It is used to permits to the end-users to download a file. <br>
      The property <code>link</code> value must be the path of the corresponding file. <br>
      When this property is true, the alignment is automatically set to <code>horizontal</code>, even if <code>vertical</code> is selected.
    </play-input-property-definition>
    <play-input-property-definition
      name="detail"
      type="It takes a string">
      An optional text to help end-users understand the purpose of a tile.
      <br />
      ‚ö†Ô∏èNote that it will NOT be displayed when the
      <code>download</code> property has a value. Instead, we will show the
      format, the weight and optionally, a description, for the file to be
      downloaded.
    </play-input-property-definition>
    <play-input-property-definition
      name="download"
      type="DownloadOptions">
      It is used to enable the end-users to download a file. The value must
      satisfy the <code>DownloadOptions</code> interface :
      <pre>
<span class='highlight-code'>export interface DownloadOptions</span> &#123;
    open?: boolean; <span class='highlight-comment'>// Whether or not you want the file to be downloaded and opened right away</span>
    openOnAnotherPage?: boolean; <span class='highlight-comment'>// Whether or not you want the file to be opened on another page</span>
    fileName?: string; <span class='highlight-comment'>// The name of the file when downloaded. Leave empty to keep the name from the server</span>
    fileLang?: string; <span class='highlight-comment'>// The language of the downloaded file</span>
    fileDesc?: string; <span class='highlight-comment'>// An optional description of the file</span>
    fileType: string; <span class='highlight-comment'>// The extension of the file</span>
    fileWeight: string; <span class='highlight-comment'>// The expected weight for the file, ex: '42 Ko'</span>
&#125;</pre>
      ‚ö†Ô∏è Please be aware that <code>fileType</code> and
      <code>fileWeight</code> are mandatory.<br />
      By default, the other properties of the interface, if not provided, will
      be set to the values :
      <pre>
&#123;
    open: false,
    openOnAnotherPage: true,
    fileName: '',
    fileLang: 'fr'
&#125;</pre
      >
      The property
      <code>link</code> must hold the path of the corresponding file. The
      property <code>title</code> will be prefixed with the mention
      "T√©l√©charger"
    </play-input-property-definition>
  </dl>
</section>
<section class="module-simulations">
  <h2>Play with the Component üòÉ</h2>

  @if (formTileDescriptionAndTitle) {
    <mat-card>
      <mat-card-header>
        <mat-card-title>Tile with description and image</mat-card-title>
      </mat-card-header>
      <mat-card-content class="simulation">
        <p>Example :</p>
        <pre>
<span class="highlight-code">&lt;dsfr-tile</span>
  title="This is a beautiful title"
  link="/homepage"
  image="https://www.info.gouv.fr/build/artwork/pictograms/system/technical-error.svg#artwork-decorative"
  description="This is a description"<span class="highlight-code">&gt;
&lt;/dsfr-tile&gt;</span>
</pre>
        <div class="settings">
          <form
            [formGroup]="formTileDescriptionAndTitle"
            novalidate>
            <play-input-property-control
              formControlName="title"
              name="title"
              type="string">
            </play-input-property-control>
            <play-input-property-control
              formControlName="description"
              name="description"
              label="Tile description"
              type="string">
            </play-input-property-control>
            <play-input-property-control
              formControlName="align"
              name="align"
              label="Tile alignment"
              type="enum"
              [enum]="possibleAlignment">
            </play-input-property-control>
            <play-input-property-control
              formControlName="link"
              name="link"
              label="Link"
              type="string">
            </play-input-property-control>
            <play-input-property-control
              formControlName="breakpoint"
              name="breakpoint"
              label="Breakpoint"
              type="enum"
              [enum]="possibleBreakpoints">
            </play-input-property-control>
            <play-input-property-control
              formControlName="download"
              name="download"
              label="Download"
              type="boolean">
            </play-input-property-control>
            <play-input-property-control
              formControlName="detail"
              name="detail"
              label="Detail"
              type="string">
            </play-input-property-control>
            <button
              mat-raised-button
              color="accent"
              (click)="formTileDescriptionAndTitle.reset()">
              Reset
            </button>
          </form>
        </div>
        <div class="simulator-wrapper mat-elevation-z4">
          <play-simulator>
            <dsfr-tile
              [title]="formTileDescriptionAndTitle.getRawValue().title"
              [align]="formTileDescriptionAndTitle.getRawValue().align"
              [download]="
                formTileDescriptionAndTitle.getRawValue().download
                  ? downloadExample
                  : undefined
              "
              [detail]="formTileDescriptionAndTitle.getRawValue().detail"
              image="https://www.info.gouv.fr/build/artwork/pictograms/system/technical-error.svg#artwork-decorative"
              [description]="formTileDescriptionAndTitle.getRawValue().description"
              [link]="formTileDescriptionAndTitle.getRawValue().link"
              [breakpoint]="formTileDescriptionAndTitle.getRawValue().breakpoint">
            </dsfr-tile>
          </play-simulator>
        </div>
      </mat-card-content>
    </mat-card>
  }

  @if (formTileWithoutImage) {
    <mat-card>
      <mat-card-header>
        <mat-card-title>Tile without image</mat-card-title>
      </mat-card-header>
      <mat-card-content class="simulation">
        <p>Example :</p>
        <pre>
<span class="highlight-code">&lt;dsfr-tile</span>
  title="This is a beautiful title"
  link="/homepage"
  description="This is a description"<span class="highlight-code">&gt;
&lt;/dsfr-tile&gt;</span>
</pre>
        <div class="settings">
          <form
            [formGroup]="formTileWithoutImage"
            novalidate>
            <play-input-property-control
              formControlName="title"
              name="title"
              type="string">
            </play-input-property-control>
            <play-input-property-control
              formControlName="description"
              name="description"
              label="Tile description"
              type="string">
            </play-input-property-control>
            <play-input-property-control
              formControlName="align"
              name="align"
              label="Tile alignment"
              type="enum"
              [enum]="possibleAlignment">
            </play-input-property-control>
            <play-input-property-control
              formControlName="download"
              name="download"
              label="Download"
              type="boolean">
            </play-input-property-control>
            <play-input-property-control
              formControlName="detail"
              name="detail"
              label="Detail"
              type="string">
            </play-input-property-control>
            <button
              mat-raised-button
              color="accent"
              (click)="formTileWithoutImage.reset()">
              Reset
            </button>
          </form>
        </div>
        @if (formTileWithoutImage) {
          <div class="simulator-wrapper mat-elevation-z4">
            <play-simulator>
              <dsfr-tile
                [title]="formTileWithoutImage.getRawValue().title"
                [align]="formTileWithoutImage.getRawValue().align"
                [download]="
                formTileDescriptionAndTitle.getRawValue().download
                  ? downloadExample
                  : undefined
              "
                [detail]="formTileWithoutImage.getRawValue().detail"
                [description]="formTileWithoutImage.getRawValue().description"
                link="/modules/tile">
              </dsfr-tile>
            </play-simulator>
          </div>
        }
      </mat-card-content>
    </mat-card>
  }

  @if(formTileGrid) {
    <mat-card>
      <mat-card-header>
        <mat-card-title>Grid tiles</mat-card-title>
        <mat-card-subtitle>
          You can select the number of tiles you want in your row to see the rendering
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content class="simulation">
        <div class="settings">
          <form
            [formGroup]="formTileGrid"
            novalidate>
            <play-input-property-control
              formControlName="nbTiles"
              name="Number of tiles"
              label="Number of tiles"
              [enum]="possiblesNbTiles"
              type="enum">
            </play-input-property-control>
            <play-input-property-control
              formControlName="align"
              name="align"
              label="Tile alignment"
              type="enum"
              [enum]="possibleAlignment">
            </play-input-property-control>
          </form>
        </div>
        <div class="simulator-wrapper mat-elevation-z4">
          <play-simulator>
            <div class="fr-grid-row fr-grid-row--gutters">
              @for (tile of nbTilesIteration; track $index) {
                <div [class]="colClass">
                  <dsfr-tile
                    title="This is a title"
                    [align]="formTileGrid.getRawValue().align"
                    image="https://www.info.gouv.fr/build/artwork/pictograms/system/technical-error.svg#artwork-decorative"
                    description="This is a description"
                    link="/modules/tile">
                  </dsfr-tile>
                </div>
              }
            </div>
          </play-simulator>
        </div>
      </mat-card-content>
    </mat-card>
  }
</section>
