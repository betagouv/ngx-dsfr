<div class="fr-form-group">
  <div class="fr-input-group" [ngClass]="{'fr-input-group--error': hasFailed, 'fr-input-group--valid': hasSucceeded}">
    <label class="fr-label" [for]="id">
      {{ label }}
      <span *ngIf="hint" class="fr-hint-text">
        {{ hint }}
      </span>
    </label>
    <ng-container *ngIf="type === 'textarea'; else standardInput">
      <textarea
        class="fr-input"
        [name]="name ? name : ''"
        [id]="id"
        [placeholder]="placeholder"
        [attr.aria-labelledby]="ariaLabelledBy"
        [disabled]="disabled ? 'disabled' : false"
        [ngClass]="{'fr-input--error': hasFailed, 'fr-input--valid': hasSucceeded}"
        (blur)="onBlur($event)"
        (keyUp)="onKeyup($event)"
        (focus)="onFocus($event)"
        [(ngModel)]="value">
      </textarea>
    </ng-container>
    <ng-template #standardInput>
      <div [ngClass]="icon ? 'fr-input-wrap ' + icon : ''">
        <input
          class="fr-input"
          [type]="type"
          [name]="name ? name : ''"
          [id]="id"
          [value]="value"
          [placeholder]="placeholder"
          [attr.aria-labelledby]="ariaLabelledBy"
          [disabled]="disabled"
          [ngClass]="{'fr-input--error': hasFailed, 'fr-input--valid': hasSucceeded}"
          (blur)="onBlur($event)"
          (keyUp)="onKeyup($event)"
          (focus)="onFocus($event)"
          [(ngModel)]="value">
      </div>
    </ng-template>
    <p *ngIf="hasFailed" [id]="id + '-error'" class="fr-error-text">
      {{ failureMessage }}
    </p>
    <p *ngIf="hasSucceeded" [id]="id + '-valid'" class="fr-valid-text">
      {{ successMessage }}
    </p>
  </div>
</div>
