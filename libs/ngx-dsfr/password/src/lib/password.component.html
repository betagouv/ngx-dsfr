<div class="fr-password" [ngClass]="inputGroupClasses" [id]="id">
  <label class="fr-label" [for]="mainLabelId">
    {{ label }}
    <span class="fr-hint-text" *ngIf="hint">{{ hint }}</span>
  </label>
  <div class="fr-input-wrap">
    <input
      class="fr-password__input fr-input"
      aria-required="true"
      name="password"
      [autocomplete]="autocomplete"
      [placeholder]="placeholder"
      [ngClass]="inputClasses"
      [attr.aria-describedby]="messagesId"
      (keyup)="handleChangePassword()"
      [(ngModel)]="value"
      [id]="mainLabelId"
      [type]="inputType">
  </div>
  <div class="fr-messages-group" [id]="messagesId" aria-live="assertive" *ngIf="params && type === 'signup'">
    <p class="fr-message" id="password-1138-input-message">Votre mot de passe doit contenir :</p>
    <p [class]="classSizeCharacters" [id]="id + '-input-message-info'">
      {{params.minSize}} caractères minimum
    </p>
    <p [class]="classSpecialCharacters" [id]="id + '-input-message-info-1'">
      {{ params.minSpecialCharacters }}
      caractère<ng-container *ngIf="params.minSpecialCharacters > 1">s spéciaux</ng-container>
      <ng-container *ngIf="params.minSpecialCharacters === 1"> spécial</ng-container>
      minimum
    </p>
    <p [class]="classDigitCharacters" [id]="id + '-input-message-info-2'">
      {{params.minDigitalCharacters}}
      chiffre<ng-container *ngIf="params.minDigitalCharacters > 1">s</ng-container>
      minimum
    </p>
  </div>
  <div class="fr-password__checkbox fr-checkbox-group fr-checkbox-group--sm">
    <input
      aria-label="Afficher le mot de passe"
      [id]="showPasswordId"
      type="checkbox"
      [attr.aria-describedby]="showPasswordId + 'messages'"
      (change)="displayPassword()">
    <label class="fr-password__checkbox fr-label" [for]="showPasswordId">
      Afficher
    </label>
    <div class="fr-messages-group" [id]="showPasswordId" aria-live="assertive">
    </div>
  </div>
  <p *ngIf="type === 'signup' && forgotPasswordLink">
    <dsfr-link
      label="Mot de passe oublié ?"
      title="Mot de passe oublié ?"
      [inline]="false"
      [backToTop]="false"
      [link]="forgotPasswordLink">
    </dsfr-link>
  </p>
</div>
