<div class="fr-password" [ngClass]="inputGroupClasses" [id]="id">
  <label class="fr-label" [for]="mainInputId">
    {{ label }}
    <span class="fr-hint-text" *ngIf="hint">{{ hint }}</span>
  </label>
  <div class="fr-input-wrap">
    <input
      #passwordInputField
      class="fr-password__input fr-input"
      aria-required="true"
      name="password"
      [autocomplete]="autocomplete"
      [placeholder]="placeholder"
      [ngClass]="inputClasses"
      [attr.data-fr-capslock]="capslockKeyActive"
      [attr.aria-describedby]="ariaDescribedBy"
      (keyup)="handleChangePassword()"
      [(ngModel)]="value"
      [id]="mainInputId"
      [type]="inputType">
  </div>
  <div class="fr-messages-group" [id]="messagesId" aria-live="assertive" *ngIf="params && type === 'signup'">
    <p class="fr-message" id="password-1138-input-message">Votre mot de passe doit contenir :</p>
    <p [class]="classSizeCharacters" [id]="id + '-input-message-info'">
      {{params.minSize}} caractères minimum
    </p>
    <p [class]="classSpecialCharacters" [id]="id + '-input-message-info-1'">
      {{ params.minSpecialCharacters }}
      caractère<ng-container *ngIf="params.minSpecialCharacters > 1">s spéciaux</ng-container>
      <ng-container *ngIf="params.minSpecialCharacters === 1"> spécial</ng-container>
      minimum
    </p>
    <p [class]="classDigitCharacters" [id]="id + '-input-message-info-2'">
      {{params.minDigitalCharacters}}
      chiffre<ng-container *ngIf="params.minDigitalCharacters > 1">s</ng-container>
      minimum
    </p>
  </div>
  <div class="fr-password__checkbox">
    <dsfr-button
      [label]="buttonDisplayPasswordText"
      [type]="buttonType.TERTIARY"
      (click)="displayPassword()">
    </dsfr-button>
  </div>
  <p *ngIf="type === 'login' && forgotPasswordLink">
    <dsfr-link
      label="Mot de passe oublié ?"
      title="Mot de passe oublié ?"
      [inline]="false"
      [link]="forgotPasswordLink">
    </dsfr-link>
  </p>
</div>
