<div [class]="classes" [id]="id" role="search">
  <label class="fr-label" [for]="id + '-input'">
    {{ label }}
  </label>
  <input
    class="fr-input"
    type="search"
    autocomplete="off"
    [placeholder]="placeholder"
    [id]="id + '-input'"
    [name]="id + '-input'"
    (blur)="onBlur($event)"
    (keyUp)="onKeyup($event)"
    (focus)="onFocus($event)"
    [(ngModel)]="value"
    (ngModelChange)="onSearch.next($event)">
  <button class="fr-btn" (click)="onSubmit()">
    Rechercher
  </button>
</div>
<ng-container *ngIf="autocomplete && value">
  <div class="fr-autocompletion">
    <ul *ngIf="results?.length && displayResults" role="listbox">
      <li
        *ngFor="let itemResult of results; let i = index"
        role="option"
        tabindex="-1"
        [id]="itemResult.id"
        [attr.aria-posinset]="i+1"
        aria-setsize="5">
        <a href="#" (click)="onSelectOption($event, itemResult)">
          {{ itemResult.label }}
        </a>
      </li>
    </ul>
    <div class="fr-autocompletion__message" *ngIf="loading">
      Recherche...
    </div>
    <div class="fr-autocompletion__message" *ngIf="displayNoResultMessage && noResult">
      Aucun r√©sultat
    </div>
  </div>
</ng-container>
